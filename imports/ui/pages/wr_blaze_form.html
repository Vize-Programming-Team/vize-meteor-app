<template name="wr_blaze_form">
	{{#if Template.subscriptionsReady}}
	{{#autoForm collection=reviews id="wr_blaze_form" type="method"
		meteormethod="reviews.submitReview" preserveForm=false resetOnSuccess=true}}
		<fieldset>
			<legend>Write a Review</legend>
			<div class="form-group {{#if afFieldIsInvalid name='companyName'}}has-error{{/if}}">
				{{#if shouldHaveCompany}}
				{{> afQuickField name='companyName' value=getCompanyName readonly=true }}
				{{else}}
				{{> afQuickField name='companyName' }}
				{{/if}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='reviewTitle'}}has-error{{/if}}">
				{{> afQuickField name='reviewTitle' placeholder="Please choose a title for your review"}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='locations'}}has-error{{/if}}">
				{{> afArrayField name='locations' }}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='jobTitle'}}has-error{{/if}}">
				{{> afQuickField name='jobTitle' placeholder="Please enter the name of the position you held at this company"}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='numberOfMonthsWorked'}}has-error{{/if}}">
				{{> afQuickField name='numberOfMonthsWorked'}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='pros'}}has-error{{/if}}">
				{{> afQuickField name='pros' placeholder="Please tell us some pros of working for this company"}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='cons'}}has-error{{/if}}">
				{{> afQuickField name='cons' placeholder="Please tell us some cons of working for this company"}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='wouldRecommendToOtherJobSeekers'}}has-error{{/if}}">
				{{> afQuickField name='wouldRecommendToOtherJobSeekers'}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='healthAndSafety'}}has-error{{/if}}">
				{{> afQuickField name='healthAndSafety'}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='managerRelationship'}}has-error{{/if}}">
				{{> afQuickField name='managerRelationship'}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='workEnvironment'}}has-error{{/if}}">
				{{> afQuickField name='workEnvironment'}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='benefits'}}has-error{{/if}}">
				{{> afQuickField name='benefits'}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='overallSatisfaction'}}has-error{{/if}}">
				{{> afQuickField name='overallSatisfaction'}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='additionalComments'}}has-error{{/if}}">
				{{> afQuickField name='additionalComments' placeholder="Please enter any additional thoughts or comments you may have"}}
			</div>
		</fieldset>
		<div class="form-group">
			<button type="submit" class="btn btn-primary">Submit</button>
			<button type="reset" class="btn btn-default" onclick={{resetFormError}}>Reset Form</button>
		</div>
	{{/autoForm}}
	{{#if hasError}}
	<div>
		{{> React component=ErrorWidget err=error}}
	</div>
	{{/if}}
	{{else}}
	<h2>Loading...</h2>
	{{/if}}
</template>
