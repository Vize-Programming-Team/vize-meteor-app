<template name="afj_blaze_form">
	{{#autoForm schema=jobApplicationSchema id="afj_blaze_form" type="method"
		meteormethod="jobads.applyForJob" preserveForm=false }}
		<fieldset>
			<legend>{{__ "common.forms.afj.formTitle"}}</legend>
			<div class="form-group {{#if afFieldIsInvalid name='companyName'}}has-error{{/if}}">
				{{> afQuickField name='companyName' value=getCompanyName readonly=true }}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='fullName'}}has-error{{/if}}">
				{{> afQuickField name='fullName' placeholder=(__ "common.forms.afj.fullNamePlaceholder")}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='email'}}has-error{{/if}}">
				{{> afQuickField name='email' placeholder=(__ "common.forms.afj.emailPlaceholder")}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='phoneNumber'}}has-error{{/if}}">
				{{> afQuickField name='phoneNumber' placeholder=(__ "common.forms.afj.phoneNumberPlaceholder")}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='coverLetterAndComments'}}has-error{{/if}}">
				{{> afQuickField name='coverLetterAndComments' placeholder=(__ "common.forms.afj.clacPlaceholder")}}
			</div>
			<!-- This field is set to type="hidden" in the schema -->
			<div class="form-group {{#if afFieldIsInvalid name='jobId'}}has-error{{/if}}">
				{{> afFieldInput name='jobId' value=jobId }}
			</div>
		</fieldset>
		<div class="form-group">
			<button type="submit" class="btn btn-primary">{{__ "common.forms.submitForm"}}</button>
			<button type="reset" class="btn btn-default" onclick={{resetFormError}}>{{__ "common.forms.resetForm"}}</button>
		</div>
	{{/autoForm}}
	{{#if hasError}}
	<div>
		{{> React component=ErrorWidget err=error}}
	</div>
	{{/if}}
</template>
