<template name="ccp_blaze_form">
	{{#autoForm collection=companyProfiles id="ccp_blaze_form" type="method" meteormethod="companies.createProfile" preserveForm=false}}
		<fieldset>
			<legend>{{__ "common.forms.ccp.formTitle"}}</legend>
			<div class="form-group {{#if afFieldIsInvalid name='name'}}has-error{{/if}}">
				{{> afQuickField name='name' placeholder=(__ "common.forms.ccp.namePlaceholder")}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='contactEmail'}}has-error{{/if}}">
				{{> afQuickField name='contactEmail' placeholder=(__ "common.forms.ccp.emailPlaceholder")}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='dateEstablished'}}has-error{{/if}}">
				{{> afQuickField name='dateEstablished'}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='numEmployees'}}has-error{{/if}}">
				{{> afQuickField name='numEmployees' options='allowed'}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='industry'}}has-error{{/if}}">
				{{> afQuickField name='industry' placeholder=(__ "common.forms.ccp.industryPlaceholder")}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='locations'}}has-error{{/if}}">
				{{> afArrayField name='locations'}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='otherContactInfo'}}has-error{{/if}}">
				{{> afQuickField name='otherContactInfo' placeholder=(__ "common.forms.ccp.otherContactInfoPlaceholder")}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='websiteURL'}}has-error{{/if}}">
				{{> afQuickField name='websiteURL' placeholder=(__ "common.forms.ccp.websiteUrlPlaceholder")}}
			</div>
			<div class="form-group {{#if afFieldIsInvalid name='descriptionOfCompany'}}has-error{{/if}}">
				{{> afQuickField name='descriptionOfCompany' placeholder=(__ "common.forms.ccp.descriptionPlaceholder")}}
			</div>
		</fieldset>
		<div class="form-group">
			<button type="submit" class="btn btn-primary">{{__ "common.forms.ccp.submitForm"}}</button>
			<button type="reset" class="btn btn-default" onclick={{resetFormError}} >{{__ "common.forms.ccp.resetForm"}}</button>
		</div>
	{{/autoForm}}
	{{#if hasError}}
		<div>
			{{> React component=ErrorWidget err=error}}
		</div>
	{{/if}}
</template>
