<template name="afInputLocation">
	<!-- This is my experimental "hacked" solution for
 		AutoForm's afObjectField not seeming to behave
		properly. It renders the LocationSchema fields
		as opaque "object" things even though I supplied
		their types in the schema. So I'm going to force
		Meteor to do things my way. Nyeh heh heh. -->
	<!-- I got this to look right by "reverse engineering"
 		the HTML produced by AutoForms... -->
	<!-- I named this template afInputLocation for consistency
 		with other AutoForm types (and do the same thing with
		the star rating input template), but little did I know,
		you can use AutoForm helpers outside of an AutoForm element.
		That is, you don't have to be inside an {{> autoform}}
		to use the template helpers defined in the AutoForm package,
		which I have found extremely useful, if a bit difficult to
		learn initially.
		The helpers used here are afFieldLabelText and afFieldMessage,
		which are used to get the translations for labels and error
		messages respectively. You can look them up on the AutoForms
		GitHub repo.
		Another package that provides global template helpers is
		universe:i18n, which gives the familiar __ function.
		I didn't really understand how all that worked before I started
		working on this template, so I'm explaining it here.
		Those are the only magic bits of this code. The rest is best
		understood by actually learning Blaze. -->
	<div class="panel panel-default">
		{{#if shouldHavePanelHeader}}
		<div class="panel-heading">
			<h3 class="panel-title">{{afFieldLabelText name=(__ (getItemName))}} {{getItemNumber}}</h3>
		</div>
		{{/if}}
		<div class="panel-body">
			<div {{this.atts}}>
				<div class="form-group {{#if afFieldIsInvalid name=(subFieldNameFor "city")}}has-error{{/if}}">
					<label class="control-label" for={{subFieldIdFor "city"}}>{{afFieldLabelText name=(subFieldNameFor "city")}}</label>
					<input id={{subFieldIdFor "city"}} class="form-control" type="text" name="{{this.atts.name}}.city" data-schema-key="{{this.atts.name}}.city" placeholder={{__ "common.forms.locationCityPlaceholder"}} >
					<span class="help-block">{{afFieldMessage name=(subFieldNameFor "city")}}</span>
				</div>
				<div class="form-group {{#if afFieldIsInvalid name=(subFieldNameFor "address")}}has-error{{/if}}">
					<label class="control-label" for={{subFieldIdFor "address"}}>{{afFieldLabelText name=(subFieldNameFor "address")}}</label>
					<input id={{subFieldIdFor "address"}} class="form-control" type="text" name="{{this.atts.name}}.address" data-schema-key="{{this.atts.name}}.address" placeholder={{__ "common.forms.locationAddressPlaceholder"}} >
					<span class="help-block">{{afFieldMessage name=(subFieldNameFor "address")}}</span>
				</div>
				<div class="form-group {{#if afFieldIsInvalid name=(subFieldNameFor "industrialHub")}}has-error{{/if}}">
					<label class="control-label" for={{subFieldIdFor "industrialHub"}}>{{afFieldLabelText name=(subFieldNameFor "industrialHub")}}</label>
					<input id={{subFieldIdFor "industrialHub"}} class="form-control" type="text" name="{{this.atts.name}}.industrialHub" data-schema-key="{{this.atts.name}}.industrialHub" placeholder={{__ "common.forms.locationIndustrialHubPlaceholder"}} >
					<span class="help-block">{{afFieldMessage name=(subFieldNameFor "industrialHub")}}</span>
				</div>
			</div>
		</div>
	</div>
</template>
